:imagesdir: images
:experimental:

== Criando Classes no BlueJ

Objetos s√≥ podem ser criados se existirem classes para serem utilizadas como modelos. A linguagem Java possui uma infinidade de classes para as mais diversas finalidades. No entanto, ao criar um software para resolver um determinado problema, voc√™ precisar√° criar classes espec√≠ficas do seu software. 

Cada classe precisa obrigatoriamente de um nome. Adicionalmente, ela pode ter caracter√≠sticas e/ou funcionalidades. Para iniciar, vamos criar uma classe contendo apenas caracter√≠sticas e ir evoluindo nossas classes ao longo do caminho, √† medida que vamos introduzindo conceitos e regras.

Como primeiro exemplo, considere que o propriet√°rio de uma loja de m√≥veis e eletrodom√©sticos lhe pede para desenvolver um sistema para controle de *vendas*. O propriet√°rio precisa inicialmente de um sistema para cadastrar *clientes*, *produtos*, *funcion√°rios* e *filiais* da loja. 

A partir desta descri√ß√£o, e sabendo que classes s√£o normalmente representadsa utilizando-se substantivos, podemos identificar que os substantivos em negritos ser√£o algumas das nossas classes. Para iniciarmos, abra o BlueJ e ser√° apresentada a janela principal como na figura abaixo.

image::bluej-main-window.png[]

Ao iniciar o BlueJ voc√™ pode abrir ou criar um novo projeto. Vamos ent√£o criar um novo projeto acessando o menu menu:Projeto[Novo Projeto]. A tela abaixo aparece para darmos um nome e indicarmos onde desejamos salvar o projeto.

image::bluej-new-project.gif[]

Ap√≥s clicar em OK, a tela principal abre o projeto criado. O projeto inicia vazio.

image::bluej-empty-project.png[]

Do lado esquerdo temos apenas 3 bot√µes, dos quais vamos focar em apenas 2 por enquanto:

- *Nova Classe*: para criar uma classe no projeto.
- *Compilar*: para compilar todas as classes do projeto.

Considerando as classes identificadas acima para o projeto da loja de m√≥veis, vamos clicar no bot√£o "Nova Classe" para criar a primeira classe que chamaremos de *Cliente*. A figura abaixo apresenta a janela para cria√ß√£o da classe. Basta preencher o campo "Nome da Classe" e clicar em OK sem alterar os outros campos. Explicar as op√ß√µes desta tela est√° fora de contexto agora.

image::bluej-new-class.gif[]

Por conven√ß√£o, nomes de classes devem ter a inicial mai√∫scula e ser no singular. Se o nome da classe for composto, a inicial de cada palavra deve ser em mai√∫sculas. N√£o √© permitido utilizar espa√ßos e acentos devem ser evitados.

IMPORTANT: Apesar de Java permitir o uso de acentos em classes, nome de arquivos, vari√°veis e outros elementos, isto n√£o √© uma pr√°tica recomend√°vel. Utilizar acentos para tais elementos pode fazer voc√™ obter um mal h√°bito que n√£o √© permitido em v√°rias linguagens. Al√©m disso, se voc√™ estiver trabalhando em um projeto envolvendo desenvolvedores de diversas partes do mundo, normalmente o c√≥digo √© escrito em ingl√™s, que n√£o possui acentos.

Ao utilizar o BlueJ, o c√≥digo Java para a classe criada √© gerado automaticamente. No entanto, a classe √© criada vazia, sem caracter√≠sticas nem funcionalidades. Desta forma, ela n√£o tem utilidade alguma. 

=== Visualizando o c√≥digo de uma classe

Para visualizar o c√≥digo gerado para uma classe, devemos dar dois cliques sobre a classe desejada. A imagem abaixo apresenta o c√≥digo da classe `Cliente` gerado pelo BlueJ. 

image:bluej-code-editor.gif[]

Todo o c√≥digo entre a primeira e √∫ltima chave (linha 10 √† linha 32) √© apenas de demonstra√ß√£o. Ele n√£o tem nenhuma utilidade para a classe `Cliente` que criamos e ainda inclui alguns detalhes que n√£o ser√£o abordados por enquanto. Ao criar qualquer classe no BlueJ, o mesmo c√≥digo ser√° criado para todas.
Assim, vamos apagar esse c√≥digo entre as linhas 10 e 32 e deixar somente a estrutura b√°sica de toda classe em Java.

O resultado final deve ser como apresentado na figura abaixo.

image:bluej-clean-class.png[]

O c√≥digo da classe est√° entre as linhas 8 e 11, o texto nas linhas 2 a 7 s√£o coment√°rios utilizados como documenta√ß√£o da classe.
Voc√™ pode observar na linha 8 que a classe √© definida pela palavra *class* seguida do nome que demos para a classe. As chaves nas linhas 9 e 11 s√£o utilizadas para delimitar o in√≠cio e fim do c√≥digo da classe. Qualquer caracter√≠stica ou funcionalidade que desejarmos incluir na classe, precisam ser entre estas chaves.

[[atributos]]
=== Adicionando caracter√≠sticas a uma classe

Bem, agora que temos a estrutura da nossa primeira classe pronta, podemos come√ßar a adicionar caracter√≠sticas nessa classe. Como j√° discutido no cap√≠tulo anterior, tais caracter√≠sticas dependem do finalidade do sistema ou ramo de atividade onde ele ser√° utilizado. No caso do cliente da loja de m√≥veis, algumas caracter√≠sticas que podemos identificar s√£o: nome, CPF, sexo, email, endere√ßo, cidade e telefone. Cada uma destas caracter√≠sticas nada mais s√£o do que vari√°veis. Sabendo disso, precisamos ent√£o identificar o tipo de dado de cada uma delas. O email e endere√ßo s√£o claramente dados alfanum√©ricos (permitem letras e n√∫meros). Em Java, `String` √© o tipo que representa dados alfanum√©ricos (inclusive emojis üôè). 

Por outro lado, nome e cidade s√£o claramente dados alfab√©ticos (permitem somente letras). No entanto, as linguagens de programa√ß√£o convencionalmente n√£o possuem dados que permitam armazenar apenas letras footnote:[Apesar das linguagens convencionais n√£o permitirem que uma vari√°vel armazene somente letras, √© muito simples criar programas que permitem ao usu√°rio digitar apenas letras em um campo.]. Assim, utilizamos o tipo `String` para tal finalidade. 

.Atributos: as caracter√≠sticas de uma classe
[NOTE]
====
As caracter√≠sticas de uma classe s√£o mais um dos princ√≠pios b√°sicos de POO, chamadas de *atributos*, campos ou propriedades. Atributos √© um termo que utilizamos no cotidiano. Por exemplo, uma pessoa pode ter como atributos o bom humor, paci√™ncia, beleza, estatura, etc. Assim, n√£o √© um termo espec√≠fico da POO. Atributos nada mais s√£o do que vari√°veis que possuem algumas caracter√≠sticas especiais que veremos ao longo do curso. Como toda vari√°vel, cada atributo precisa de um tipo e um nome. 
====

Dos atributos apresentados acima, o nome, CPF, email, endere√ßo, cidade e telefone s√£o alfanum√©ricos, logo do tipo `String`. No caso do sexo, como ele pode ser representado por apenas uma letra, o tipo que permite armazenar no m√°ximo uma letra √© o `char`. Assim, podemos declarar tais atributos na classe `Cliente` como apresentado abaixo:

[source,java]
----
public class Cliente {
    String nome;
    String cpf;
    String email;
    String telefone;
    char sexo;
    String endereco;
    String cidade;
}
----

O c√≥digo da classe `Cliente` apresenta a forma mais b√°sica de declara√ß√£o de atributos. Este √© o processo para declara√ß√£o de vari√°veis em Java, seguindo o formato `tipo nomeDaVariavel;`.

Observe que o tipo `String` tem inicial mai√∫scula e o `char` min√∫scula. Tais tipos s√£o realmente desta forma, n√£o √© um erro. Lembre-se que falamos anteriormente que classes, por conven√ß√£o, tem inicial mai√∫scula. Logo, pode-se deduzir que `String` nada mais √© do que uma classe espec√≠fica da linguagem Java, enquanto `char` √© um tipo primitivo como voc√™ pode ter aprendido em aulas de algoritmos ou outra linguagem de programa√ß√£o.

Um tipo primitivo como `char` e `int` permitem declarar vari√°veis que possuem apenas dados. Uma classe como `String` possui dados (atributos) e funcionalidades. 

Apesar do c√≥digo mostrado ser a forma mais b√°sica para declara√ß√£o de atributos, tal forma n√£o √© recomenda em POO, pois n√£o estamos definindo nenhum controle de acesso aos nossos atributos. Como a pr√°tica tem mostrado que quando apresentamos uma forma mais simples por√©m menos adequada de se escrever c√≥digo, alunos tendem acabam se habituando √† primeira forma e sempre escrevendo c√≥digo daquele jeito. Assim, para evitar a aquisi√ß√£o deste mau h√°bito, os atributos devem ser declarados como privados, utilizando a palavra `private`, como mostrado no c√≥digo abaixo. Controle de acesso s√≥ ser√° abordado no link:chapter9.adoc[Cap√≠tulo 9]. Por enquanto, n√£o se preocupe em entender o porqu√™ disto.

[source,java]
----
public class Cliente {
    private String nome;
    private String cpf;
    private String email;
    private String telefone;
    private char sexo;
    private String endereco;
    private String cidade;
}
----

.Uso de chaves { }
[NOTE]
====
Em Java, chaves s√£o utilizadas para delimitar um bloco de c√≥digo, como um `if`, `for`, fun√ß√£o, classe, etc. A chave pode ser aberta em uma linha separada, como:

[source,java]
----
public class Cliente 
{

}
----


ou na mesma linha que define o in√≠cio de um bloco, como:

[source,java]
----
public class Cliente {
    
}
----

O formato definido pela Oracle nas http://www.oracle.com/technetwork/java/codeconventions-150003.pdf[Conve√ß√µes de C√≥digo Java] √© o √∫ltimo. Grandes empresas como https://google.github.io/styleguide/javaguide.html[Google] e https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md[Twitter] tamb√©m recomendam este padr√£o.

O local de abertura das chaves √© uma grande discuss√£o entre desenvolvedores. H√° vantagens e desvantagens em rela√ß√£o √† clareza do c√≥digo dependendo de onde as chaves s√£o colocadas. Os guias apresentados nos links acima abordam um pouco esta discuss√£o, al√©m de outros artigos como https://en.wikipedia.org/wiki/Indentation_style[este].
====

=== Conve√ß√µes ao declarar atributos
Temos diversos atributos do tipo `String`. Apesar de ser poss√≠vel declar√°-los todos em uma √∫nica linha como:

[source,java]
----
private String nome, cpf, email, endereco, cidade, telefone;
----

n√£o √© aconselh√°vel fazer isto para atributos. Veremos posteriormente que atributos podem e devem ser documentados. Declarar v√°rios atributos em uma mesma linha impedir√° sua adequada documenta√ß√£o. Para vari√°veis convencionais (como vari√°veis locais dentro de fun√ß√µes), n√£o h√° problema algum em fazer isso. Apesar de ser repetitivo declarar atributos de um mesmo tipo em linhas diferentes, isto favorece a documenta√ß√£o do projeto e torna a listagem de atributos mais clara e organizada. A forma apresentada √© de fato o padr√£o utilizado na ind√∫stria de software orientado a objetos (OO).

Outro ponto importante √© que o nome de atributos come√ßam com inicial min√∫scula, intercalando mai√∫scula quando o nome for composto. Veja os exemplos abaixo:

[source,java]
----
private String nome;
private String cidadeNatal;
private String cidadeResidencia;
----

Como falado anteriormente para classes e outros elementos da linguagem Java, n√£o √© recomend√°vel utilizar acentos ao dar nomes a atributos.

TIP: https://en.wikipedia.org/wiki/Duplicate_code[C√≥digo duplicado] √© um dos maiores problemas no desenvolvimento de software. Existem princ√≠pios como o https://en.wikipedia.org/wiki/Don't_repeat_yourself[Don't Repeat Yourself (DRY)] que pregam que voc√™ n√£o deve ter retrabalho, ficar escrevendo o mesmo c√≥digo v√°rias vezes. Ao declarar um atributo em cada linha, repetindo o tipo para cada um, n√£o estamos duplicando c√≥digo referente √† funcionalidades do sistema. Estamos apenas utilizando um determinado tipo v√°rias vezes. Veremos que reutiliza√ß√£o de c√≥digo √© um dos pilares da POO.

== Criando Objetos no BlueJ

Agora que temos nossa primeira classe criada no BlueJ, podemos fechar o editor de c√≥digo e voltar para a tela inicial. Lembre-se que uma classe √© um modelo a partir do qual podemos criar quantos objetos desejarmos. Para podermos criar objetos de uma classe, precisamos compil√°-la primeiro. 

Logo, na tela inicial do projeto podemos clicar no bot√£o *Compilar* no lado esquerdo.

image::bluej-compile.gif[]

Clicando neste bot√£o, todas as classes criadas ser√£o compiladas. Observe que ap√≥s clicar em *Compilar*, o interior da classe muda, indicando que ela foi compilada.

Agora podemos criar objetos a partir das classes compiladas, neste caso somente a classe Cliente. Outra vantagem do uso do BlueJ para aprendizagem de POO √© que n√£o precisamos escrever c√≥digo para testar nossas classes: para criar objetos e interagir com eles. Podemos fazer isso tudo pela interface gr√°fica do BlueJ.

Depois da classe `Cliente` ter sido compilada, podemos clicar com o bot√£o direito sobre ela e escolher a op√ß√£o _new Cliente()_. Se a classe n√£o estiver compilada, tal op√ß√£o n√£o aparecer√°.

Em seguida aparecer√° uma tela para informarmos o nome do objeto a ser criado. O BlueJ j√° sugere um nome para o objeto que podemos deixar como est√°.

image::bluej-new-object.gif[]

Ap√≥s clicar em OK o objeto criado aparece no canto inferior esquerdo da tela principal.

Agora j√° temos um objeto chamado `cliente1` que segue a mesma estrutura definida pela classe `Cliente`, assim como uma casa deve seguir o modelo definido pelo projeto de engenharia.

Podemos clicar com o bot√£o direito sobre um objeto e escolher *Inspecionar*, ou simplesmente dar dois cliques sobre o objeto. Assim, podemos ver os atributos de tal objeto. Como n√£o definimos valores para essses atributos ao criarmos o objeto, o conte√∫do apresentado pode n√£o fazer o menor sentido para voc√™ e apenas indica que os atributos n√£o receberam nenhum dado ainda.

image::bluej-inspect-object.gif[]

Com a imagem acima podemos rapidamente visualizar a estrutura dos objetos da classe `Cliente`. No entanto, para conseguirmos alterar os valores dos atributos, precisaremos escrever c√≥digo para isto.

== Criando novas classes

Agora que voc√™ j√° sabe como criar classes no BlueJ, vamos criar a classe `Funcionario`. Como citado anteriormente, acentos devem ser evitados. Tal classe ter√° muitos dos atributos que foram definidos para a classe `Cliente`, al√©m dos seguintes atributos adicionais:

- `matricula` do tipo `int`
- `cargo` do tipo `String`

O c√≥digo inicial da classe `Funcion√°rio` deve ficar como apresentado abaixo. Lembre-se de criar os _getter's_ e _setter's_ para cada um dos atributos.

[source,java]
----
public class Funcionario {
    private String nome;
    private int matricula;
    private String cpf;
    private String email;
    private String telefone;
    private char sexo;
    private String cargo;
}
----
